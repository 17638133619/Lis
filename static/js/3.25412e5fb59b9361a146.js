webpackJsonp([3],{"/KFX":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("IHPB"),n=s.n(i),a=s("3cXf"),r=s.n(a),o={data:function(){return{input:"",list:[],mage:"",info:[],geohash:""}},components:{Header:s("aJxU").a},methods:{search:function(){var t=this;this.input&&this.http.get("http://elm.cangdu.org/v1/pois?type=search&city_id="+this.$route.params.id+"&keyword="+this.input).then(function(e){t.list=e.data})},getParams:function(t){this.$router.push({path:"/home?geohash="+t.geohash}),localStorage.setItem("geohash",r()(this.$router.history.current.query.geohash));var e=[].concat(n()(this.info));0==e.some(function(e){return e.geohash==t.geohash})&&e.push(t),localStorage.setItem("list",r()(e)),this.info=e},del:function(){this.info=[],localStorage.removeItem("list")}},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("list"));null!=e&&(this.info=e),this.http.get("http://elm.cangdu.org/v1/cities/"+this.$route.params.id).then(function(e){t.mage=e.data})}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("Header",{attrs:{got:!0,gnt:{name:t.mage.name},gmt:!1,cot:!0}}),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"item"},[s("el-input",{staticClass:"inp",attrs:{placeholder:"输入学校，商务楼，地址",clearable:""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[t._v(" >")]),t._v(" "),s("el-button",{staticClass:"but",attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("提交")])],1),t._v(" "),this.list.length<=0?s("div",{staticClass:"history"},[s("div",{staticClass:"search"},[t._v("\n                搜索历史\n            ")]),t._v(" "),t._l(t.info,function(e,i){return s("div",{key:i,staticClass:"region",on:{click:function(s){return t.getParams(e)}}},[s("p",[s("b",[t._v(t._s(e.name))])]),t._v(" "),s("p",[t._v(t._s(e.address))])])}),t._v(" "),s("el-button",{staticClass:"prim",attrs:{type:"primary"},on:{click:function(e){return t.del()}}},[t._v("清空所有")])],2):s("div",{staticClass:"history"},t._l(t.list,function(e,i){return s("div",{key:i,staticClass:"region",on:{click:function(s){return t.getParams(e)}}},[s("p",[s("b",[t._v(t._s(e.name))])]),t._v(" "),s("p",[t._v(t._s(e.address))])])}),0),t._v(" "),this.list.length>1?s("div",{staticClass:"history"},[t._v("\n            搜索内容不存在\n        ")]):t._e()])],1)},staticRenderFns:[]};var u=s("C7Lr")(o,c,!1,function(t){s("QKrv")},"data-v-583b321e",null);e.default=u.exports},"3cXf":function(t,e,s){t.exports={default:s("q1bu"),__esModule:!0}},QKrv:function(t,e){},q1bu:function(t,e,s){var i=s("Rv9F"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}}});
//# sourceMappingURL=3.25412e5fb59b9361a146.js.map